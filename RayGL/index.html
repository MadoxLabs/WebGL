<html>
  <head>
    <title>MadoxLabs Shader Ray Tracer </title>
    <link rel="stylesheet" href="css/style.css" media="screen" type="text/css" />
    <script src="../mxFrame/mxFrame.js"></script>
    <script>
      let assets = {};
      function reportBootup(value)
      {
        var out = document.getElementById("loading");
        out.innerHTML = "MadoxLabs Shader Ray Tracer<br>Booting up: " + value;
      }
      function reportLoaded(name, value)
      {
        var out = document.getElementById("loading");
        delete assets["<br>" +name];
        out.innerHTML = "MadoxLabs Shader Ray Tracer<br>Loading: " + value + " assets to go...<br><br><font color=#555 size=2>" + Object.keys(assets).toString();
      }
      function reportLoading(name, value)
      {
        var out = document.getElementById("loading");
        assets["<br>"+name] = 1;
        out.innerHTML = "MadoxLabs Shader Ray Tracer<br>Loading: " + value + " assets to go...<br><br><font color=#555 size=2>" + Object.keys(assets).toString();
      }
      function doneLoading()
      {
        document.getElementById("loading").style.visibility = "hidden";
      }
    </script>
  </head>
  <body style="margin:0;padding:0;" onload="mx.loadApp(['js/cannon.js', 'js/physicsHandler.js', 'js/matrix.js', 'js/parser.js', 'js/ray.js'], '../mxFrame', mx.WITH_MXFRAME);">

    <p>Madoxlabs GLSL Ray Tracer</p>
    <div id="loading">Booting up:</div>
    <div id="myModal" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header">
          <h2>Compiling Shader</h2>
        </div>
        <div class="modal-body">
          <p id="compileMsg">WebGL is setting up. Please wait...</p>
        </div>
        <div class="modal-footer">
        </div>
      </div>
    </div>
    <table>
      <tr>
        <td>
          <div><canvas id='surface'></div>
        </td>
        <td>
          <select onChange="Game.runScene();" id="scenes"></select>
          <br />
          <textarea id="code"></textarea>
          <br>
          <button onClick="Game.loadPhysics()">Physics Scene</button>
          <br />
          <button id="render" onClick="Game.loadJSON()">Update</button>
          <button id="step" onClick="Game.step()">Step</button>
          <button id="stop" onClick="Game.stop()">Stop</button>
          <button id="start" onClick="Game.start()">Start</button>
          <br>
          <button onClick="Game.downSlices();">&lt;-</button>
          <input onchange="Game.setSlices(document.getElementById('slices').value);" type="range" min="1" max="20" value="1" class="slider" id="slices">
          <button onClick="Game.upSlices();">-&gt;</button>
        </td>
      </tr>
    </table>
  </body>
</html>
